<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet">
    <title>Document</title>
    <!-- <a href="https://www.flaticon.com/free-icons/pencil" title="pencil icons">Pencil icons created by meaicon - Flaticon</a> -->
</head>

<body>
    <style>
        .play-regular {
            font-family: "Play", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        .play-bold {
            font-family: "Play", sans-serif;
            font-weight: 700;
            font-style: normal;
        }

        .bigbox {
            border: 2px solid black;
            height: 50vw;
            font-weight: 610;
        }

        #box1 {
            width: 35%;
            height: 100%;
            background-color: black;
            /* background-size: auto; */
        }

        #box2 {
            width: 65%;
            height: 100%;
            overflow-y: auto;
        }

        .flexdisplay {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .textwhite {
            color: white;
        }

        .text {
            font-size: 30px;
        }

        #text1 {
            color: #007acc;
        }

        .belowtext {
            font-size: 20px;
        }

        .sidebox1 {
            padding-bottom: 15px;
            border-bottom: 2px solid black;
            margin-top: 40px !important;
        }

        .coursebox {
            width: 48%;
            height: 80px;
            border: 1px solid black;
            border-radius: 5px;
            transition-duration: 0.5s;
        }

        .coursebox:hover {
            transform: scale(1.05);
        }

        .form-control {
            transition-duration: 0.5s;
        }

        .form-control:hover {
            transform: scale(1.05);
        }

        .text3 {
            opacity: 0.5;
        }

        .addelement {
            width: 40%;
            padding: 0;
            position: absolute;
            top: 250px;
            left: 550px;
            z-index: 10;
            background-color: white;
            border-radius: 10px;
            color: black;
            transition: 0.5s ease;
            display: block;
            overflow: hidden;
            /* height: 300px; */
            display: none;

        }

        #addelement1 {
            height: 300px;
        }

        #addelement2 {
            height: 140px;
        }

        #addelement1:target,
        #addelement2:target,
        #addelement3:target {
            /* width:40%; */
            border: 2px solid black;
            /* opacity:0.5 */
            display: block;
        }

        #addelement1:target .closebtn {
            display: block;
        }

        .closebtn {
            position: absolute;
            right: 5px;
            top: 0;
            /* border:2px solid red; */
        }

        a {
            text-decoration: none;
            color: black;
        }

        #idvalue {
            display: none;
        }

        @media screen and (max-width:750px) {
            .bigbox {
                height: 150vw;
                flex-direction: column;
            }

            #box1 {
                width: 100%;
            }

            #box2 {
                width: 100%;
            }

            #addelement1,
            #addelement2 {
                height: 90%;
            }

            .addelement {
                width: 80%;
                height: 90%;
                position: absolute;
                left: 30px;
                top: 40px;
            }

        }

        @media screen and (max-width:470px) {

            /* .coursebox:first-child img{
                display:none;
            } */
            .start img {
                display: none;
            }
        }
    </style>

    <div class="play-regular">


        <div class="addelement" id="addelement1">
            <span class=" mx-4 belowtext my-4">Create New Playground & Create New Folder</span>
            <a href="#"><button type="button" class="btn btn-dark my-2 " id="closeinput" class="closebtn">X</button></a>
            <form>
                <div class="form-group row d-flex justify-content-between mt-5 mx-4">
                    <label for="staticEmail" class="col-sm-4 col-form-label">Enter Folder Name</label>
                    <div class="col-sm-7">
                        <input class="form-control" id="foldername" placeholder="Folder Name">
                    </div>
                </div>
                <div class="form-group row d-flex justify-content-between mx-4 mt-2">
                    <label for="inputPassword" class="col-sm-4 col-form-label ">Enter Card Name</label>
                    <div class="col-sm-7 ">
                        <input class="form-control" id="cardname" placeholder="Card Name">
                    </div>
                </div>
                <div class="d-flex justify-content-between my-4 mx-4">
                    <select class="form-select form-select-sm" id="language" aria-label=".form-select-sm example">
                        <option selected>C</option>
                        <option value="1">cpp</option>
                        <option value="2">Java</option>
                        <option value="3">Python</option>
                    </select>
                    <button type="button" class="btn btn-dark" onclick="createfolderandplg()">Create Playground</button>
                </div>
            </form>
        </div>


        <div id="addelement2" class="addelement">
            <div class="d-flex justify-content-between my-2 mx-4">
                <span class=" belowtext">Create New Folder</span>
                <a href="#"><button type="button" id="closeinput2" class="btn btn-dark " class="closebtn">X</button></a>
            </div>
            <form class="row g-3 d-flex justify-content-between my-2 mx-4">
                <div class="col-auto">
                    <label for="inputPassword2" class="visually-hidden">Password</label>
                    <input class="form-control" id="inputPassword2" placeholder="Enter Folder Name">
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-dark mb-3" onclick="createFolder()">Create Folder</button>
                </div>
            </form>
        </div>

        <div id="addelement3" class="addelement">
            <div class="d-flex justify-content-between my-2 mx-4">
                <span class=" belowtext">Create New Playground</span>
                <a href="#"><button type="button" class="btn btn-dark " id="closeinput3" class="closebtn">X</button></a>
            </div>
            <form class="row g-3 d-flex justify-content-between my-2 mx-4">
                <div class="col-auto">
                    <label for="inputPassword2" class="visually-hidden">Password</label>
                    <input class="form-control" id="inputPassword3" placeholder="Enter Folder Name">
                </div>
                <div>
                    <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="language2">
                        <option selected>C</option>
                        <option value="1">cpp</option>
                        <option value="2">Java</option>
                        <option value="3">Python</option>
                    </select>
                    <input type="text" id="idvalue">
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-dark mb-3" onclick="createplg()">Create Playground</button>
                </div>
            </form>
        </div>


        <!-- box1 -->
        <div class="bigbox flexdisplay">
            <div id="box1" class="flexdisplay">
                <div>
                    <img src="vs-code-logo-transp.png" alt="vscodeimage" width="200px">
                    <p class="flexdisplay textwhite my-2"><span id="text1" class="text">Code</span>&nbsp;<span
                            id="text2" class="text">Park</span></p>
                    <p class="flexdisplay textwhite belowtext my-0">
                        <span class="text3">Play.</span><span class="text3">Create.</span><span
                            class="text3">Innovate</span>
                    </p>
                    <a href="#addelement1"><button type="button" class="btn btn-light">+ Create New
                            Playground</button></a>
                </div>
            </div>

            <!-- box2 -->
            <div id="box2">
                <div class="d-flex justify-content-between my-4 mx-3 sidebox1">
                    <span class= "play-bold">My Playground</span>
                    <a href="#addelement2"><span>+ New Folder</span></a>
                </div>

                <!-- all content of a folder -->
                <div id="f1">
                    <!-- top folder bar -->
                    <div class="d-flex justify-content-between my-4 mx-3 sidebox1 ">
                        <span id="namef1">
                            <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                            DSA
                        </span>
                        <span>
                            <a href="#"><img src="bin.png" onclick="deletefolder('f1')" alt="bin" height="15px"
                                    width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" onclick="rename('f1')" alt="pencil" height="15px"
                                    width="15px" style="margin-right: 10px;"></a>
                            <a href="#addelement3" onclick="create('p1')"><img src="plus.png" alt="bin" height="15px"
                                    width="15px" style="margin-right: 10px;">
                                New Playground</a>
                        </span>

                    </div>

                    <!-- playgrounds of a folder -->
                    <div id="p1" class="d-flex flex-wrap justify-content-between my-4 mx-3">

                        <div id="f11" class="coursebox d-flex justify-content-between align-items-center">
                            <div class="start d-flex mx-2">
                                <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                                <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                            </div>
                            <div>
                                <a href="#" onclick="deleteplg('f1','f11')"><img src="bin.png" alt="bin" height="15px"
                                        width="15px" style="margin-right:10px;"></a>
                                <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                        style="margin-right: 10px;"></a>
                            </div>
                        </div>
                        <div id="f12" class="coursebox d-flex justify-content-between align-items-center">
                            <div class="start d-flex mx-2">
                                <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                                <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                            </div>
                            <div>
                                <a href="#" onclick="deleteplg('f1','f12')"><img src="bin.png" alt="bin" height="15px"
                                        width="15px" style="margin-right:10px;"></a>
                                <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                        style="margin-right: 10px;"></a>
                            </div>
                        </div>
                    </div>
                </div>


                <div id="f2">
                    <!-- top folder bar -->
                    <div class="d-flex justify-content-between my-4 mx-3 sidebox1 ">
                        <span id="namef1">
                            <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                            DSA
                        </span>
                        <span>
                            <a href="#"><img src="bin.png" onclick="deletefolder('f2')" alt="bin" height="15px"
                                    width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" onclick="rename('f2')" alt="pencil" height="15px"
                                    width="15px" style="margin-right: 10px;"></a>
                            <a href="#addelement3" onclick="create('p2')"><img src="plus.png" alt="bin" height="15px"
                                    width="15px" style="margin-right: 10px;">
                                New Playground</a>
                        </span>

                    </div>

                    <!-- playgrounds of a folder -->
                    <div id="p2" class="d-flex flex-wrap justify-content-between my-4 mx-3">

                        <div id="f21" class="coursebox d-flex justify-content-between align-items-center">
                            <div class="start d-flex mx-2">
                                <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                                <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                            </div>
                            <div>
                                <a href="#" onclick="deleteplg('f2','f21')"><img src="bin.png" alt="bin" height="15px"
                                        width="15px" style="margin-right:10px;"></a>
                                <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                        style="margin-right: 10px;"></a>
                            </div>
                        </div>
                        <div id="f22" class="coursebox d-flex justify-content-between align-items-center">
                            <div class="start d-flex mx-2">
                                <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                                <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                            </div>
                            <div>
                                <a href="#" onclick="deleteplg('f2','f22')"><img src="bin.png" alt="bin" height="15px"
                                        width="15px" style="margin-right:10px;"></a>
                                <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                        style="margin-right: 10px;"></a>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- <div id="f2">
                <div id="p2" class="d-flex justify-content-between my-4 mx-3 sidebox1">
                    <span>
                        <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                        Algorithms
                    </span>
                    <span>
                        <a href="#"><img src="bin.png" onclick="deletefolder('f2')" alt="bin" height="15px" width="15px"
                                style="margin-right:10px;"></a>
                        <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                style="margin-right: 10px;"></a>
                        <a href="#addelement3" onclick="create('p2')"><img src="plus.png" alt="bin" height="15px"
                                width="15px" style="margin-right: 10px;">
                            New Playground</a>
                    </span>
                </div>
                <div id="p2" class="d-flex justify-content-between my-4 mx-3">
                    <div id="f21" class="coursebox d-flex justify-content-between align-items-center ">
                        <div class="start d-flex mx-2">
                            <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                            <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                        </div>
                        <div>
                            <a href="#" onclick="deleteplg('f2','f21')"><img src="bin.png" alt="bin" height="15px"
                                    width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                    style="margin-right: 10px;"></a>
                        </div>
                    </div>
                    <div id="f22" class="coursebox d-flex justify-content-between align-items-center">
                        <div class="start d-flex mx-2">
                            <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                            <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                        </div>
                        <div>
                            <a href="#" onclick="deleteplg('f2','f22')"><img src="bin.png" alt="bin" height="15px"
                                    width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                    style="margin-right: 10px;"></a>
                        </div>
                    </div>
                </div>
            </div> -->

                <div id="f3">
                    <div class="d-flex justify-content-between mx-3  my-4 sidebox1">
                        <span>
                            <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                            Data Structures
                        </span>
                        <span>
                            <a href="#"><img src="bin.png" onclick="deletefolder('f3')" alt="bin" height="15px"
                                    width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                    style="margin-right: 10px;"></a>
                            <a href="#addelement3" onclick="create('p3')"><img src="plus.png" alt="bin" height="15px"
                                    width="15px" style="margin-right: 10px;">
                                New Playground</a>
                        </span>
                    </div>
                    <div id="p3" class="d-flex flex-wrap justify-content-between my-4 mx-3 ">
                        <div id="f31" class="coursebox d-flex justify-content-between align-items-center ">
                            <div class="start d-flex mx-2">
                                <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                                <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                            </div>
                            <div>
                                <a href="#" onclick="deleteplg('f3','f31')"><img src="bin.png" alt="bin" height="15px"
                                        width="15px" style="margin-right:10px;"></a>
                                <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                        style="margin-right: 10px;"></a>
                            </div>
                        </div>
                        <div id="f32" class="coursebox d-flex justify-content-between align-items-center">
                            <div class="start d-flex mx-2">
                                <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                                <p class="mx-3 mt-2 small font-weight-bold ">index.cpp<br>Language:cpp</p>
                            </div>
                            <div>
                                <a href="#" onclick="deleteplg('f3','f32')"><img src="bin.png" alt="bin" height="15px"
                                        width="15px" style="margin-right:10px;"></a>
                                <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                        style="margin-right: 10px;"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="f4">
                    <div class="d-flex justify-content-between my-4 mx-3 sidebox1">
                        <span>
                            <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                            Dynamic Programming
                        </span>
                        <span>
                            <a href="#"><img src="bin.png" onclick="deletefolder('f4')" alt="bin" height="15px"
                                    width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                    style="margin-right: 10px;"></a>
                            <a href="#addelement3" onclick="create('d1')"><img src="plus.png" alt="bin" height="15px"
                                    width="15px" style="margin-right: 10px;">
                                New Playground</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // function createFolder=()=>{
        //     console.log('delete');
        // }
        let element = document.getElementById('box2');
        // let str = element.innerHTML;
        let str = "";
        // console.log("on deletion");

        // console.log(str);
        let idstr = "f"
        let id = 5;
        let plgid = 5;
        let box = "";
        let boxid = 5;
        let string = element.innerHTML;
        localStorage.setItem('content', string);

        function createfolderandplg() {
            // localStorage.clear;
            id++;
            plgid++;
            boxid++;
            idstr = "f" + id;
            box = "p" + boxid;
            console.log(idstr);
            str = element.innerHTML;
            let str1 = document.getElementById('foldername').value
            let str2 = document.getElementById('cardname').value
            let str3 = document.getElementById('language').value
            localStorage.setItem('filename', (str1))
            localStorage.setItem('cardname', (str2))
            localStorage.setItem('language', (str3))
            str += `
            <div id="${idstr}">
            <div class="d-flex justify-content-between mx-3  my-4 sidebox1">
                <span>
                    <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                    ${str1}
                </span>
                <span>
                    <a href="#"><img src="bin.png" onclick="deletefolder('${idstr}')" alt="bin" height="15px" width="15px"
                                style="margin-right:10px;"></a>
                        <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                style="margin-right: 10px;"></a>
                        <a href="#addelement3" onclick="create('d1')"><img src="plus.png" alt="bin" height="15px"
                                width="15px" style="margin-right: 10px;">
                            New Playground</a>
            </div>
            <div id="${boxid}" class="d-flex justify-content-between my-4 mx-3 ">
                <div id="${idstr + plgid}" class="coursebox d-flex justify-content-between align-items-center ">
                    <div class="start d-flex mx-2">
                        <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                        <p class="mx-3 mt-2 small font-weight-bold ">${str2}<br>Language:${str3}</p>
                    </div>
                    <div>
                        <a href="#" onclick="deleteplg('${idstr}','${idstr + plgid}')"><img src="bin.png" alt="bin" height="15px"
                            width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                            style="margin-right: 10px;"></a>
                            <a href="#addelement3" onclick="create('${boxid}')"><img src="plus.png" alt="bin" height="15px"
                                width="15px" style="margin-right: 10px;">
                            New Playground</a>
                    </div>
                </div>
            </div>
            </div>
            `

            localStorage.setItem('content', str);
            element.innerHTML = localStorage.getItem('content');
            document.getElementById('closeinput').click();
            // console.loglocalStorage.getItem(filename);
        }
        function loadContent() {
            const storedContent = localStorage.getItem('content');
            if (storedContent) {
                element.innerHTML = storedContent;
            }
        }
        //function to delete a folder with its contents
        function deletefolder(elementId) {
            console.log("on deletion");
            const folderdelete = document.getElementById(elementId);
            console.log(folderdelete);
            folderdelete.remove();
            console.log(element.innerHTML);
            let afterdeletion = element.innerHTML;
            localStorage.setItem('content', afterdeletion);
        }

        //function to create a folder
        function createFolder() {
            id++;
            idstr = "f" + id;
            str = element.innerHTML;
            let folder = document.getElementById('inputPassword2').value;
            localStorage.setItem('foldername', folder);
            console.log(folder)
            str += `
            <div id="${idstr}">
            <div class="d-flex justify-content-between my-4 mx-3 sidebox1">
                <span>
                    <img src="folder.png" alt="folderpng" height="15px" width="15px" style="margin-right:10px;">
                    ${folder}
                </span>
                <span>
                    <a href="#"><img src="bin.png" onclick="deletefolder('${idstr}')" alt="bin" height="15px" width="15px"
                                style="margin-right:10px;"></a>
                        <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                                style="margin-right: 10px;"></a>
                        <a href="#addelement3" onclick="create('d1')"><img src="plus.png" alt="bin" height="15px"
                                width="15px" style="margin-right: 10px;">
                            New Playground</a>
            </div>
            </div>`
            localStorage.setItem('content', str)
            element.innerHTML = localStorage.getItem('content')
            document.getElementById('closeinput2').click();

        }
        function create(id) {
            document.getElementById('idvalue').value = id;
            console.log(id, document.getElementById('idvalue').value);
        }

        //function to create a playground
        function createplg() {
            let s2 = document.getElementById('inputPassword3').value;
            let s3 = document.getElementById('language2').value;
            let s4 = document.getElementById('idvalue').value;
            console.log(s4, s2, s3);
            // let storedhtml=localStorage.getItem('content');
            let folderaddress = element.querySelector(`#${s4}`);
            // console.log(folderaddress);
            let strelement = folderaddress.innerHTML;
            // console.log(strelement)
            strelement += `
            <div  class="coursebox mt-3 d-flex justify-content-between align-items-center">
                        <div class="start d-flex mx-2">
                            <img src="vs-code-logo-transp.png" alt="pencil" height="60px" width="50px">
                            <p class="mx-3 mt-2 small font-weight-bold ">${s2}<br>Language:${s3}</p>
                        </div>
                        <div>
                        <a href="#" onclick="deleteplg('f1','f11')"><img src="bin.png" alt="bin" height="15px"
                                width="15px" style="margin-right:10px;"></a>
                            <a href="#"><img src="pencil.png" alt="pencil" height="15px" width="15px"
                        </div>
                    </div>`
            folderaddress.innerHTML = strelement;
            let string = element.innerHTML;
            localStorage.setItem('content', string);
            document.getElementById('closeinput3').click();
        }


        function deleteplg(folderid, playgrdid) {
            console.log("Attempting to delete:", playgrdid, "from folder:", folderid);

            let folderlocation = document.getElementById(folderid);
            if (!folderlocation) {
                console.error("Folder not found:", folderid);
                return;
            }

            console.log("Folder found:", folderlocation);

            let plgdelete = folderlocation.querySelector(`#${playgrdid}`);
            if (!plgdelete) {
                console.error("Element to delete not found:", playgrdid);
                return;
            }

            console.log("Element to delete found:", plgdelete);

            plgdelete.remove();

            let afterdeletion = folderlocation.innerHTML;
            console.log("Folder content after deletion:", afterdeletion);

            localStorage.setItem('content', afterdeletion);
        }


        //function to rename a folder

        function rename(folderid) {
            let folderToRename = document.getElementById('name' + folderid)
            console.log()
            // document.getElementById('closeinput').click();
        }
        window.onload = loadContent;
    </script>

</body>

</html>
